{"version":3,"sources":["components/PictureSelect.module.less","components/PictureSelect.js","App.js","index.js"],"names":["module","exports","picture_select","select_num","all_select","select_list","img_div","PictureSelect","props","pictures","value","onChange","onClickItem","item","e","arr","JSON","parse","stringify","target","checked","push","id","splice","indexOf","react_default","a","createElement","className","style","type","length","map","index","key","src","url","alt","bind","App","_React$useState","React","useState","_React$useState2","Object","slicedToArray","setValue","console","log","components_PictureSelect","name","ReactDOM","render","src_App","document","getElementById"],"mappings":"2EACAA,EAAAC,QAAA,CAAkBC,eAAA,sCAAAC,WAAA,kCAAAC,WAAA,kCAAAC,YAAA,mCAAAC,QAAA,mIC2DHC,EAzDO,SAAAC,GAAS,IACrBC,EAA8BD,EAA9BC,SAAUC,EAAoBF,EAApBE,MAAOC,EAAaH,EAAbG,SAYnBC,EAAc,SAACC,EAAMC,GACzB,IAAIC,EAAMC,KAAKC,MAAMD,KAAKE,UAAUR,IAChCI,EAAEK,OAAOC,SACXL,EAAIM,KAAKR,EAAKS,IACdX,EAASI,KAETA,EAAIQ,OAAOR,EAAIS,QAAQX,EAAKS,IAAK,GACjCX,EAASI,KAIb,OACEU,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAM3B,gBACpBuB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAM1B,YACpBsB,EAAAC,EAAAC,cAAA,SACEG,KAAK,WACLF,UAAWC,IAAMzB,WACjBgB,QAASV,EAAMqB,SAAWtB,EAASsB,OACnCpB,SA3BiB,SAAAG,GACnBA,EAAEK,OAAOC,QACXT,EAASF,EAASuB,IAAI,SAAAtB,GAAK,OAAIA,EAAMY,MAErCX,EAAS,OAyBPc,EAAAC,EAAAC,cAAA,iCAAUnB,EAAME,MAAMqB,OAAtB,uBAGFN,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAMxB,aAElBI,EAASuB,IAAI,SAACnB,EAAMoB,EAAOlB,GACzB,OACEU,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAMvB,QAAS4B,IAAKD,GAClCR,EAAAC,EAAAC,cAAA,OAAKQ,IAAKtB,EAAKuB,IAAKC,IAAI,MAExBZ,EAAAC,EAAAC,cAAA,SACEG,KAAK,WACLV,SAAUV,EAAMc,QAAQX,EAAKS,IAC7BX,SAAUC,EAAY0B,KAAK,KAAMzB,WCfpC0B,EA/BH,WAAM,IAAAC,EACUC,IAAMC,SAAS,CAAC,MAD1BC,EAAAC,OAAAC,EAAA,EAAAD,CAAAJ,EAAA,GACT9B,EADSiC,EAAA,GACFG,EADEH,EAAA,GAsBhB,OAFAI,QAAQC,IAAItC,GAGVe,EAAAC,EAAAC,cAACsB,EAAD,CACExC,SAtBa,CACf,CACEa,GAAI,IACJ4B,KAAM,MACNd,IAAK,yFAEP,CACEd,GAAI,IACJ4B,KAAM,MACNd,IAAK,yFAEP,CACEd,GAAI,IACJ4B,KAAM,MACNd,IAAK,0FASL1B,MAAOA,EACPC,SAAU,SAAAD,GAAK,OAAIoC,EAASpC,OCxBlCyC,IAASC,OAAO3B,EAAAC,EAAAC,cAAC0B,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.a8873d93.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"picture_select\":\"PictureSelect_picture_select__2FjMP\",\"select_num\":\"PictureSelect_select_num__13utm\",\"all_select\":\"PictureSelect_all_select__1cTgz\",\"select_list\":\"PictureSelect_select_list__5gM66\",\"img_div\":\"PictureSelect_img_div__3znAh\"};","import React from \"react\";\r\nimport style from \"./PictureSelect.module.less\";\r\n\r\nconst PictureSelect = props => {\r\n  const { pictures, value, onChange } = props;\r\n\r\n  // 点击全选框\r\n  const onClickAllSelect = e => {\r\n    if (e.target.checked) {\r\n      onChange(pictures.map(value => value.id));\r\n    } else {\r\n      onChange([]);\r\n    }\r\n  };\r\n\r\n  // 点击某一项\r\n  const onClickItem = (item, e) => {\r\n    let arr = JSON.parse(JSON.stringify(value));\r\n    if (e.target.checked) {\r\n      arr.push(item.id);\r\n      onChange(arr);\r\n    } else {\r\n      arr.splice(arr.indexOf(item.id), 1);\r\n      onChange(arr);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={style.picture_select}>\r\n      <div className={style.select_num}>\r\n        <input\r\n          type=\"checkbox\"\r\n          className={style.all_select}\r\n          checked={value.length === pictures.length}\r\n          onChange={onClickAllSelect}\r\n        />\r\n        <span>已选中{props.value.length}个文件</span>\r\n      </div>\r\n\r\n      <div className={style.select_list}>\r\n        {\r\n          pictures.map((item, index, arr) => {\r\n            return (\r\n              <div className={style.img_div} key={index}>\r\n                <img src={item.url} alt=\" \" />\r\n\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={~value.indexOf(item.id)}\r\n                  onChange={onClickItem.bind(null, item)}\r\n                />\r\n              </div>\r\n            );\r\n          })\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PictureSelect;\r\n","import React from \"react\";\nimport PictureSelect from \"./components/PictureSelect\";\n\nconst App = () => {\n  const [value, setValue] = React.useState([\"1\"]);\n  const pictures = [\n    {\n      id: \"1\",\n      name: \"foo\",\n      url: \"https://gw.alipayobjects.com/mdn/rms_d212b7/afts/img/A*LlfeSa8N0WgAAAAAAAAAAABkARQnAQ\"\n    },\n    {\n      id: \"2\",\n      name: \"foo\",\n      url: \"https://gw.alipayobjects.com/mdn/rms_d212b7/afts/img/A*LlfeSa8N0WgAAAAAAAAAAABkARQnAQ\"\n    },\n    {\n      id: \"3\",\n      name: \"foo\",\n      url: \"https://gw.alipayobjects.com/mdn/rms_d212b7/afts/img/A*LlfeSa8N0WgAAAAAAAAAAABkARQnAQ\"\n    }\n  ];\n\n  console.log(value); // 输出用户选择图片 id。\n\n  return (\n    <PictureSelect\n      pictures={pictures}\n      value={value}\n      onChange={value => setValue(value)}\n    />\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}